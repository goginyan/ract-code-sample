(this.webpackJsonpguns=this.webpackJsonpguns||[]).push([[0],{144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),i=a.n(s),c=a(9),o=a(10),l=a(12),u=a(11),d=a(157),m=a(158),p=a(80),h=a(15),f=a(148),v=a(63),g=a.n(v),b=a(64),y=a.n(b),E=a(65),w=a.n(E),k=(a(85),a(66)),P=a.n(k),C=a(67),x=a.n(C),N=a(68),S=a.n(N),j=a(69),O=a.n(j),I=a(70),_=a.n(I),R=(a(86),a(22)),B="http://167.86.68.216:81/api",K={"Content-Type":"application/json",Accept:"application/json"},D="".concat(B,"/v1/categories"),L=(a(91),function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)}),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={className:"basket",carts:[],sumPrice:0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.onClick;return r.a.createElement("span",{className:t,onClick:a},r.a.createElement("span",null,r.a.createElement("svg",{enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("path",{d:"m472 452c0 11.046-8.954 20-20 20h-20v20c0 11.046-8.954 20-20 20s-20-8.954-20-20v-20h-20c-11.046 0-20-8.954-20-20s8.954-20 20-20h20v-20c0-11.046 8.954-20 20-20s20 8.954 20 20v20h20c11.046 0 20 8.954 20 20zm0-312v192c0 11.046-8.954 20-20 20s-20-8.954-20-20v-172h-40v60c0 11.046-8.954 20-20 20s-20-8.954-20-20v-60h-192v60c0 11.046-8.954 20-20 20s-20-8.954-20-20v-60h-40v312h212c11.046 0 20 8.954 20 20s-8.954 20-20 20h-232c-11.046 0-20-8.954-20-20v-352c0-11.046 8.954-20 20-20h60.946c7.945-67.477 65.477-120 135.054-120s127.109 52.523 135.054 120h60.946c11.046 0 20 8.954 20 20zm-121.341-20c-7.64-45.345-47.176-80-94.659-80s-87.019 34.655-94.659 80z"})))),r.a.createElement("span",{className:"basket-price"},0!==this.state.sumPrice&&this.state.sumPrice))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.carts!==t.carts?{carts:t.carts,className:"basket",sumPrice:L(e.carts.reduce((function(e,t){return e+t.price}),0))}:t}}]),a}(n.Component);T.defaultProps={className:"basket",carts:[]};var M=T,A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={menu_open:!1,menu_items:[]},n.handleCardButtonClick=n.handleCardButtonClick.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"handleCardButtonClick",value:function(){this.props.rightSidebarRef.current?this.props.rightSidebarRef.current.showCart():alert("cart is empty")}},{key:"componentDidMount",value:function(){var e=this,t=this;fetch(D,{method:"GET",headers:K}).then((function(e){return e.json()})).then((function(e){if(e.success&&e.payload.categories)return e.payload.categories})).then((function(t){e.props.addCategories(t)})),window.addEventListener("click",(function(e){e.target.closest(".menu-list")||e.target.closest(".menu-btn")||t.setState((function(e){return e.menu_open=!1,e})),e.target.closest(".right-side-bar")||e.target.closest(".basket")||e.target.closest(".remove-basket")||t.props.rightSidebarRef.current&&t.props.rightSidebarRef.current.hideCart()}))}},{key:"checkMenuItemsSelect",value:function(e){return-1===this.state.menu_items.indexOf(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item ml-2 mr-2 d-flex"},r.a.createElement("button",{onClick:function(){return e.setState((function(e){return e.menu_open=!e.menu_open,e}))},className:"menu-btn"},r.a.createElement("img",{src:y.a,width:35,alt:""})),r.a.createElement("div",{className:"menu-list default-scrollbar ".concat(this.state.menu_open&&"show")},r.a.createElement("ul",{className:"list-unstyled pl-3"},r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:P.a,width:20,alt:""}),r.a.createElement("a",{href:"https://umbrellaarmory.eu/pages/armory",className:"pl-3"}," Armory "))),r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer disabled"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:w.a,width:20,alt:""}),r.a.createElement("a",{className:"pl-3"}," Project "))),r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:x.a,width:20,alt:""}),r.a.createElement("a",{href:"https://umbrellaarmory.eu/pages/ownership",className:"pl-3"}," Ownership "))),r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:S.a,width:20,alt:""}),r.a.createElement("a",{href:"https://umbrellaarmory.eu/pages/Custom",className:"pl-3"}," Custom "))),r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:O.a,width:20,alt:""}),r.a.createElement("a",{href:"https://umbrellaarmory.eu/pages/support",className:"pl-3"}," Contact "))),r.a.createElement("li",{className:"p-2 text-uppercase cursor-pointer"},r.a.createElement("span",{className:"d-flex align-items-center"},r.a.createElement("img",{src:_.a,width:20,alt:""}),r.a.createElement("a",{href:"https://umbrellaarmory.eu/pages/distribution",className:"pl-3"}," Wholesale ")))))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.a,{to:"/",className:"navbar-brand"},r.a.createElement("img",{src:g.a,className:"img-fluid",width:80,alt:""})))),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},this.props.product.title?r.a.createElement("span",{className:"product-name"}," ",this.props.product.title):null)),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{onClick:this.handleCardButtonClick,className:"text-dark show-card-button cursor-pointer"},r.a.createElement(M,{carts:this.props.baskets})))))}}]),a}(n.Component),F=Object(R.b)((function(e){return{product:function(e){return e&&e.products.selectedProduct?e.products.selectedProduct:{}}(e),categories:e.categories.list?e.categories.list:{},baskets:e.baskets.list,rightSidebarRef:e.components.list.rightSidebar?e.components.list.rightSidebar:{}}}),{addCategories:function(e){return{type:"ADD_CATEGORIES",categories:e}}})(A),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(F,null))}}]),a}(n.Component),q=(a(93),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.header,n=e.children,s=e.img,i=e.title,c=e.link,o=e.className,l=e.bodyClassName;return r.a.createElement("div",{className:"card ".concat(o),style:{width:t}},s&&r.a.createElement("img",{className:"card-img-top img-fluid",src:"string"===typeof s?s:s.src,alt:s.alt||""}),n&&r.a.createElement("div",{className:"card-body ".concat(l)},i&&r.a.createElement("h5",{className:"card-title"},i),n,c&&r.a.createElement("a",{href:c.href,className:"btn btn-primary"},c.text)),a&&r.a.createElement("div",{className:"p-3"},a))}}]),a}(n.Component));q.defaultProps={title:null,link:null,img:null,cardStyle:null,className:"",bodyClassName:""};var V=q,U=a(48),W=(a(41),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"getProductFirstImage",value:function(e){return e.variants[0]?e.variants[0].src:""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid index-product"},r.a.createElement("div",{className:"row"},this.props.products.map((function(t){return r.a.createElement("div",{className:"col-lg-3 col-md-6 col-12 product mt-3",key:t.id},r.a.createElement(U.a,{to:"/category/".concat(e.props.categoryId,"/product/").concat(t.id),style:{textDecoration:"none",color:"#000000"},className:"d-inline-block"},r.a.createElement(V,{className:"product-card",img:e.getProductFirstImage(t),header:t.title})))}))))}}]),a}(n.Component));W.defaultProps={products:[]};var G=W,Q=function(e){var t={width:null,height:null,scale:null,offset:null};switch(function(e){var t=e||window.innerWidth;return t<=576?"extra-small":t>=576&&t<=768?"small":t>=768&&t<=992?"medium":t>=992&&t<=1200?"large":"extra-large"}(e)){case"extra-large":t.width=950,t.height=250,t.scale={x:.12,y:.12},t.offset={x:-1300,y:-450};break;case"large":t.width=800,t.height=250,t.scale={x:.13,y:.13},t.offset={x:-600,y:-450};break;case"medium":t.width=670,t.height=250,t.scale={x:.12,y:.12},t.offset={x:-800,y:-450};break;case"small":t.width=400,t.height=250,t.scale={x:.07,y:.07},t.offset={x:-400,y:-600};break;case"extra-small":t.width=320,t.height=150,t.scale={x:.046,y:.046},t.offset={x:-730,y:-700};break;default:return}return t},J="".concat(B,"/v1/products"),X=a(31),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleLoad=function(){n.setState({image:n.image})},n.state={image:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.loadImage()}},{key:"componentWillUnmount",value:function(){this.image.removeEventListener("load",this.handleLoad)}},{key:"loadImage",value:function(){this.image=new window.Image,this.image.src=this.props.src,this.image.addEventListener("load",this.handleLoad)}},{key:"render",value:function(){var e=this;return r.a.createElement(X.Image,{name:this.props.name,image:this.state.image,x:this.props.x,y:this.props.y,opacity:this.props.opacity,onClick:this.props.clickCallback,onMouseEnter:this.props.onMouseEnterCallback,onMouseLeave:function(t){return e.props.onMouseLeaveCallback(t)},ref:function(t){e.imageNode=t}})}}]),a}(n.Component),$=function(e){var t=e[0];return e.forEach((function(e){e.selected&&(t=e)})),t},Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"renderInput",value:function(){var e=this.props,t=e.inputClassName,a=e.labelClassName,n=e.label,s=e.labelFor,i=e.labelStart,c=e.type,o=e.placeholder,l=e.value,u=e.min,d=e.max,m=e.onChange,p=r.a.createElement("input",{id:s&&s,className:t,type:c,value:l,placeholder:o,onChange:m,min:u,max:d});return n?!!s?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:s,className:a},n),p):r.a.createElement("label",{className:a},i&&n,p,!i&&n):p}},{key:"render",value:function(){var e=this.props,t=e.className;return e.wrapperDiv?r.a.createElement("div",{className:t},this.renderInput()):this.renderInput()}}]),a}(n.Component);Y.defaultProps={wrapperDiv:!1,className:"form-group",labelClassName:"",inputClassName:"",placeholder:null,value:null,label:null,labelFor:null,labelStart:!0,type:"text",min:null,max:null};var Z=Y,ee=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.width,n=e.height,s=e.display,i=e.onClick;return r.a.createElement("span",{className:t,style:{width:a,height:n,display:s},onClick:i},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 174.239 174.239",xmlSpace:"preserve"},r.a.createElement("g",null,r.a.createElement("path",{d:"M87.12,0C39.082,0,0,39.082,0,87.12s39.082,87.12,87.12,87.12s87.12-39.082,87.12-87.12S135.157,0,87.12,0z M87.12,159.305   c-39.802,0-72.185-32.383-72.185-72.185S47.318,14.935,87.12,14.935s72.185,32.383,72.185,72.185S126.921,159.305,87.12,159.305z"}),r.a.createElement("path",{d:"M120.83,53.414c-2.917-2.917-7.647-2.917-10.559,0L87.12,76.568L63.969,53.414c-2.917-2.917-7.642-2.917-10.559,0   s-2.917,7.642,0,10.559l23.151,23.153L53.409,110.28c-2.917,2.917-2.917,7.642,0,10.559c1.458,1.458,3.369,2.188,5.28,2.188   c1.911,0,3.824-0.729,5.28-2.188L87.12,97.686l23.151,23.153c1.458,1.458,3.369,2.188,5.28,2.188c1.911,0,3.821-0.729,5.28-2.188   c2.917-2.917,2.917-7.642,0-10.559L97.679,87.127l23.151-23.153C123.747,61.057,123.747,56.331,120.83,53.414z"}))))}}]),a}(n.Component);ee.defaultProps={width:"25px",height:"25px",display:"inline-block",className:""};var te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.width,n=e.height,s=e.display,i=e.onClick;return r.a.createElement("span",{className:t,style:{width:a,height:n,display:s},onClick:i},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve"},r.a.createElement("path",{style:{fill:"#FF3636"},d:"M256,0C115.3,0,0,115.3,0,256s115.3,256,256,256s256-115.3,256-256S396.7,0,256,0z"}),r.a.createElement("path",{style:{fill:"#F40000"},d:"M512,256c0,140.7-115.3,256-256,256V0C396.7,0,512,115.3,512,256z"}),r.a.createElement("rect",{x:"106",y:"226",style:{fill:"#E7E7E7"},width:"300",height:"60"}),r.a.createElement("rect",{x:"256",y:"226",style:{fill:"#D3D3D8"},width:"150",height:"60"})))}}]),a}(n.Component);te.defaultProps={width:"25px",height:"25px",display:"inline-block",className:""};var ae=a(73),ne=a.n(ae),re=a(74),se=a.n(re),ie=a(75),ce=a.n(ie),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isShownCard:!1,carts:[]},n.hideCart=n.hideCart.bind(Object(h.a)(n)),n.showCart=n.showCart.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"showCart",value:function(){this.setState({isShownCard:!0})}},{key:"hideCart",value:function(){this.setState({isShownCard:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.carts,n=t.isShownCard,s=this.props,i=s.checkoutCallback,c=s.handleCartQuantityChangeCallback,o=s.removeCardByIdCallback,l=s.removeKonvaProductImageCallback,u=L(a.reduce((function(e,t){return e+Number(t.price)*t.quantity}),0));return r.a.createElement("div",{className:"h-100 right-side-bar position-fixed bg-white overflow-x-scroll default-scrollbar ".concat(n?"show":null)},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"cursor-pointer d-flex align-items-center border-bottom",onClick:this.hideCart},r.a.createElement("img",{src:ce.a,className:"svg-icon",alt:""}),r.a.createElement("h3",{className:"d-inline-block mb-0 ml-2"},"Cart")),r.a.createElement("button",{className:"btn btn-primary ml-auto",onClick:i},"Checkout ",u)),a.map((function(t,a){return r.a.createElement("div",{key:t.id},t.isBaseProduct?"":r.a.createElement("span",{className:"cart-interface-title"}," ",e.props.interfaces.find((function(e){return e.id===t.interface_id})).name," "),r.a.createElement(V,{className:"mt-4",bodyClassName:"bg-light-gray container",width:"100%"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 h-100"},r.a.createElement("span",{className:"title"}," ",t.product_title," "),r.a.createElement("img",{src:t.src,alt:t.title,className:"img-fluid"})),r.a.createElement("div",{className:"col-6 d-flex flex-column justify-content-between"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{key:a,"data-key":a,src:se.a,onClick:function(t){var a=t.target.dataset.key;e.setState((function(e){return e.carts[a].quantity&&e.carts[a].quantity--,e}))},className:"svg-icon mr-1 cursor-pointer",alt:""}),r.a.createElement(Z,{className:"d-inline-block form-inline",inputClassName:"border-none text-center input-right-slider",labelClassName:"d-inline-block text-right",value:t.quantity,type:"number",min:0,max:100,onChange:function(e){return c(e,t.id)}}),r.a.createElement("img",{"data-key":a,src:ne.a,onClick:function(t){var a=t.target.dataset.key;e.setState((function(e){return e.carts[a].quantity++,e}))},className:"svg-icon mx-1 cursor-pointer",alt:""}),r.a.createElement("span",{className:"text-right text-primary flex-grow-1"}," ",L(t.price*t.quantity)," ")),!t.isBaseProduct&&r.a.createElement("button",{type:"button",className:"btn btn-outline-dark remove-basket",onClick:function(){o(t.id),l(t.product_id)}},"Remove")))))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.sideBarCards!==t.carts?{carts:e.carts}:null}}]),a}(n.Component);oe.defaultProps={carts:[]};var le=Object(R.b)((function(e){return{interfaces:e.interfaces}}),null,null,{forwardRef:!0})(oe),ue=a(76),de=a.n(ue),me=a(77),pe=a.n(me),he=a(155),fe=a(149),ve=a(150),ge=a(151),be=a(152),ye=a(153),Ee=a(156),we=a(154);a(140),a(141),a(142),a(143);he.a.use([fe.a,ve.a,ge.a,be.a,ye.a]);var ke=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).state=r.initialState,r.existsProductPlusPounts=!1,r.interfacesSwiper=Object(n.createRef)(),r.productsSwiper=Object(n.createRef)(),r.rightSidebarRef=Object(n.createRef)(),r.konvaStage=Object(n.createRef)(),r.setResponsiveKonvaProduct=r.setResponsiveKonvaProduct.bind(Object(h.a)(r)),r.handlePlugItemVariantChange=r.handlePlugItemVariantChange.bind(Object(h.a)(r)),r.handleCartQuantityChange=r.handleCartQuantityChange.bind(Object(h.a)(r)),r.removeKonvaProductImage=r.removeKonvaProductImage.bind(Object(h.a)(r)),r.removeProductPlusPoints=r.removeProductPlusPoints.bind(Object(h.a)(r)),r.handleRangePlugSlider=r.handleRangePlugSlider.bind(Object(h.a)(r)),r.addProductImage=r.addProductImage.bind(Object(h.a)(r)),r.shopifyRedirect=r.shopifyRedirect.bind(Object(h.a)(r)),r.removeCardById=r.removeCardById.bind(Object(h.a)(r)),r}return Object(o.a)(a,[{key:"shopifyRedirect",value:function(){var e=de.a.buildClient({domain:"uniq-unitcode.myshopify.com",storefrontAccessToken:"d927fe56a95cd4f50e18f1f46ed25258"}),t=this.state.sideBarCarts.map((function(e){return{variantId:e.shopify_id,quantity:e.quantity}})),a="";e.checkout.create().then((function(n){a=n.id,e.checkout.addLineItems(a,t).then((function(){e.checkout.fetch(a).then((function(e){window.location.assign(e.webUrl)}))})).catch((function(e){e&&alert("There is an error to connect with shopify. Please try after some time.")}))}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.location.pathname!==this.props.location.pathname&&(this.setState(this.initialState),this.prepareData(e).then((function(){t.setResponsiveKonvaProduct(),t.setPositionProductSwiperBtn(),t.setSelectedPlug(t.state.selectedPlug)})))}},{key:"componentDidMount",value:function(){var e=this;if(this.prepareData().then((function(){e.setResponsiveKonvaProduct(),e.setSelectedPlug(e.state.selectedPlug)})),this.productsSwiper.current.swiper){var t=this.productsSwiper.current.getBoundingClientRect();this.setPositionProductSwiperBtn(t.width),this.productsSwiper.current.swiper.on("resize",(function(){var t=e.productsSwiper.current.getBoundingClientRect();e.setPositionProductSwiperBtn(t.width)}))}this.setResponsiveKonvaProduct(),window.addEventListener("resize",this.setResponsiveKonvaProduct)}},{key:"setPositionProductSwiperBtn",value:function(){if(this.productsSwiper.current.swiper){var e=this.productsSwiper.current.swiper.width/2-182.5-44;this.setState((function(t){return t.productsSwiper.prev.left=e+"px",t.productsSwiper.next.right=e+"px",t}))}}},{key:"componentDidUpdate",value:function(){this.props.addBaskets(this.state.sideBarCarts),this.props.addRef("rightSidebar",this.rightSidebarRef)}},{key:"componentWillUnmount",value:function(){this.props.addSelectProducts({}),this.props.addBaskets([]),window.removeEventListener("resize",this.setResponsiveKonvaProduct)}},{key:"setProductPlusPoints",value:function(){var e=this;this.existsProductPlusPounts=!0,this.setState((function(t){return t.plugs.forEach((function(a){var n=a.products.find((function(t){return t.id===e.state.baseProduct.id})),r={x:e.state.baseProduct.width*(n.pivot.coordinate_x/100),y:e.state.baseProduct.height*(n.pivot.coordinate_y/100)};t.productKonva.images.find((function(e){return e.category===a.name}))||t.productKonva.images.push({id:a.id,plugName:a.name,type:"plus",src:pe.a,width:a.interfaces[0]?a.interfaces[0].width:0,height:a.interfaces[0]?a.interfaces[0].height:0,x:r.x,y:r.y})})),t}))}},{key:"removeProductPlusPoints",value:function(){this.existsProductPlusPounts=!1,this.setState((function(e){return e.productKonva.images=e.productKonva.images.filter((function(e){return"plus"!==e.type})),e}))}},{key:"setResponsiveKonvaProduct",value:function(){if(this.state.baseProduct){var e=document.getElementById("stage").getClientRects()[0],t=e.width,a=e.height,n=this.state.baseProduct.width+1800,r=this.state.baseProduct.height+700,s=t/n/1.52222;r*s>a&&(s=a/r/1.52222);var i=t/s/2-this.state.baseProduct.width/2*1.52222,c=a/s/2-this.state.baseProduct.height/2*1.52222;i<0&&(i*=-1),c<0&&(c*=-1);var o={scale:{x:s,y:s},offset:{x:-i,y:-c},width:t,height:a};this.setState((function(e){return e.productKonva.stage.scale=o.scale,e.productKonva.stage.offset=o.offset,e.productKonva.stage.width=o.width,e.productKonva.stage.height=o.height,e.productKonva.show=!0,e}))}}},{key:"prepareData",value:function(e){var t,a,n=this;return Promise.all([(a=e?e.match.params.productId:this.props.match.params.productId,fetch("".concat(J,"/").concat(a),{method:"GET",headers:K}).then((function(e){return e.json()})).then((function(e){if(e.success&&e.payload.product)return e.payload.product}))),(t=e?e.match.params.productId:this.props.match.params.productId,fetch("".concat(J,"/").concat(t,"/interfaces"),{method:"GET",headers:K}).then((function(e){return e.json()})).then((function(e){if(e.success&&e.payload.interfaces)return e.payload.interfaces})))]).then((function(e){n.setState((function(t){return t.baseProduct=e[0],n.props.addSelectProducts(e[0]),n.props.addInterfaces(e[1]),t.selectedProduct=e[0],t.plugs=e[1],t.selectedPlug=e[1][0],t.productKonva.images.push({id:$(n.state.baseProduct.variants).id,product_id:t.baseProduct.id,src:$(n.state.baseProduct.variants).src,width:n.state.baseProduct.width,height:n.state.baseProduct.height}),t.sideBarCarts.push({id:t.baseProduct.id,shopify_id:$(t.baseProduct.variants).shopify_id,src:$(t.baseProduct.variants).src,title:$(t.baseProduct.variants).title,product_title:t.baseProduct.title,quantity:1,price:$(t.baseProduct.variants).price,x:0,y:0,isBaseProduct:!0}),t}))}))}},{key:"addProductImage",value:function(e){var t=this;this.setState((function(a){a.selectedProduct=e;var n=$(e.variants),r=t.calculateCoordinates(),s={id:n.id,product_id:e.id,src:n.src,width:e.width,height:e.height,x:r.x,y:r.y,category:t.state.selectedPlug.name},i=a.productKonva.images.findIndex((function(e){return e.category===t.state.selectedPlug.name}));-1!==i?a.productKonva.images.splice(i,1,s):a.productKonva.images.push(s);var c=a.sideBarCarts.findIndex((function(t){return t.product_id===e.id||t.interface_id===e.pivot.interface_id})),o={id:n.id,product_id:e.id,shopify_id:n.shopify_id,title:n.title,product_title:e.title,src:n.src,quantity:1,price:n.price,interface_id:e.pivot.interface_id};-1!==c?a.sideBarCarts.splice(c,1,o):a.sideBarCarts.push(o);var l=a.productKonva.images.findIndex((function(e){return e.plugName===a.selectedPlug.name}));return-1!==l&&a.productKonva.images.splice(l,1),a}))}},{key:"calculateCoordinates",value:function(){var e=this,t=this.state.selectedPlug.products.find((function(t){return t.id===e.state.baseProduct.id})),a={x:this.state.baseProduct.width*(t.pivot.coordinate_x/100),y:this.state.baseProduct.height*(t.pivot.coordinate_y/100)};return a.x+=this.state.selectedProduct.width*(this.state.selectedProduct.pivot.coordinate_x/100),a.y+=this.state.selectedProduct.height*(this.state.selectedProduct.pivot.coordinate_y/100),a}},{key:"setSelectedPlug",value:function(e){var t=this;this.setState((function(t){return t.selectedPlug=e,t.plugSliderCurrentIndex=t.plugs.findIndex((function(t){return t.id===e.id})),t}),(function(){t.interfacesSwiper.current.swiper.slideToLoop(t.state.plugSliderCurrentIndex)}))}},{key:"handleProductPlugClick",value:function(e){if("plus"===e.type){var t=this.state.plugs.find((function(t){return t.id===e.id}));this.setSelectedPlug(t)}else{var a=this.state.productKonva.images.find((function(t){return t.id===e.id})),n=this.state.plugs.find((function(e){return e.name===a.category}));n&&this.setSelectedPlug(n)}}},{key:"handleMouseEnter",value:function(e){this.existsProductPlusPounts||this.setProductPlusPoints(),e.product_id!==this.state.baseProduct.id?(document.body.style.cursor="pointer",this.setState((function(t){return t.productKonva.images.forEach((function(a){a.product_id!==t.baseProduct.id&&a.id!==e.id&&"plus"!==a.type&&"plus"!==e.type&&(a.opacity=.5)})),t}))):(e.product_id,this.state.baseProduct.id)}},{key:"handleMouseLeave",value:function(e){e.product_id!==this.state.baseProduct.id?(document.body.style.cursor="default",this.setState((function(t){return t.productKonva.images.forEach((function(a){a.product_id!==t.baseProduct.id&&a.id!==e.id&&"plus"!==a.type&&"plus"!==e.type&&(a.opacity=1)})),t}))):(e.product_id,this.state.baseProduct.id)}},{key:"handleCartQuantityChange",value:function(e,t){var a=e.target.value;a>=0&&a<=100&&this.setState((function(e){return e.sideBarCarts.find((function(e){return e.id===t})).quantity=a,e}))}},{key:"handlePlugItemVariantChange",value:function(e,t){var a=this;this.setState((function(t){return t.selectedPlug.interfaces.forEach((function(t){t.variants.forEach((function(t){return t.selected=t.id===e}))})),t}),(function(){var e=a.state.productKonva.images.findIndex((function(e){return e.product_id===t.id}));t&&-1!==e&&a.addProductImage(t)}))}},{key:"checkImageSelection",value:function(e,t,a){var n=e.filter((function(e){return!0===e.selected}));return n.length?n[0].id===a:!n.length&&0===t}},{key:"getSelectedVariant",value:function(e){var t=e.filter((function(e){return!0===e.selected}));return t.length?t[0]:e[0]}},{key:"checkProductKonva",value:function(e){return!!this.state.productKonva.images.filter((function(t){return t.product_id===e.id})).length}},{key:"handleRangePlugSlider",value:function(e){var t=this,a=e.target.value;this.setState({plugSliderCurrentIndex:Number(a)},(function(){t.plugRef.slickGoTo(t.state.plugSliderCurrentIndex)}))}},{key:"handleRangeProductSlider",value:function(e){var t=this,a=e.target.value;this.setState({productSliderCurrentIndex:Number(a)},(function(){t.productsSwiper.current.swiper.slideTo(t.state.productSliderCurrentIndex)}))}},{key:"removeCardById",value:function(e){this.setState((function(t){var a=t.sideBarCarts.findIndex((function(t){return t.id===e}));return t.sideBarCarts.splice(a,1),t}))}},{key:"removeKonvaProductImage",value:function(e,t){this.setState((function(t){var a=t.productKonva.images.findIndex((function(t){return t.product_id===e}));return t.plugs.find((function(e){return e.name===t.productKonva.images[a].category})),t.productKonva.images.splice(a,1),t}))}},{key:"renderPlugs",value:function(){var e=this,t=this.state.plugs;return r.a.createElement("div",{className:"row product-interfaces"},r.a.createElement("div",{className:"col-lg-8 col-12 offset-lg-2 offset-0"},r.a.createElement(Ee.a,{spaceBetween:1,slidesPerView:3,centeredSlides:!0,centeredSlidesBounds:!1,loop:!0,roundLengths:!0,slideToClickedSlide:!0,onSlideChange:function(t){return e.setSelectedPlug(e.state.plugs[t.realIndex])},ref:this.interfacesSwiper,breakpoints:{1199:{slidesPerView:7,centeredSlides:!0}}},t.map((function(e){return r.a.createElement(we.a,{key:e.id},r.a.createElement("div",{className:"blue-line-top"}),r.a.createElement("div",{className:"text-center p-2",key:e.id},e.name))})))),this.state.selectedPlug&&r.a.createElement("div",{className:"col-2 my-2 scroll-range-wrapper"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement("span",{className:"text-small"},this.state.productSliderCurrentIndex+1,"/",this.state.selectedPlug.interfaces.length),r.a.createElement(Z,{inputClassName:"scroll-range-input cursor-pointer",onChange:function(t){return e.handleRangeProductSlider(t)},value:this.state.productSliderCurrentIndex,type:"range",min:0,max:this.state.selectedPlug.interfaces.length-1}))))}},{key:"renderSelectedPlugItems",value:function(){var e=this;return this.state.selectedPlug?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 p-0 mx-auto products-swiper"},r.a.createElement(Ee.a,{centeredSlides:!0,slidesPerView:"auto",slideToClickedSlide:!0,autoHeight:!0,direction:"horizontal",mousewheel:{invert:!0,releaseOnEdges:!0,sensitivity:10},speed:200,ref:this.productsSwiper,breakpoints:{568:{centeredSlides:!0,direction:"horizontal"},768:{centeredSlides:!0,direction:"vertical"},1199:{centeredSlides:!0,direction:"horizontal"}},onSlideChange:function(t){e.setState({productSliderCurrentIndex:t.realIndex})},navigation:{nextEl:".products-swiper .swiper-button-next",prevEl:".products-swiper .swiper-button-prev"}},r.a.createElement("button",{style:{left:this.state.productsSwiper.prev.left},className:"swiper-button-prev"}),this.state.selectedPlug.interfaces.map((function(t){return r.a.createElement(we.a,{key:t.id,className:"flex-column h-100 button-change"},r.a.createElement("div",{className:"position-relative text-center c-body m-auto"},r.a.createElement("div",{className:"position-relative mt-auto text-center"},r.a.createElement("div",{className:"d-flex flex-column bg-card"},r.a.createElement("span",{className:"title-t"},"Strike Industries"),r.a.createElement("span",{title:t.title,className:"title"}," ",t.title," "),r.a.createElement("div",{className:"img-block"},r.a.createElement("img",{style:{height:"150px"},src:e.getSelectedVariant(t.variants).src,alt:t.title,className:"img"})),r.a.createElement("span",{className:"title-s"},t.title),r.a.createElement("span",{className:"price-s"},L($(t.variants).price)),r.a.createElement("div",{className:"variants flex-column text-left px-3 ".concat(t.variants.length<2?"invisible":"")},r.a.createElement("span",null,"Color"),r.a.createElement("div",{className:"d-flex flex-wrap ".concat(t.variants.length%5==0?"justify-content-between":"")},t.variants.map((function(a,n){return r.a.createElement("button",{key:a.id,className:"color-btn\n                                                           ".concat(e.checkImageSelection(t.variants,n,a.id)?"active-color":""),style:{background:a.title},onClick:function(){return e.handlePlugItemVariantChange(a.id,t)}})})))))),r.a.createElement("div",{className:"w-100 btn-order position-relative"},e.checkProductKonva(t)?r.a.createElement("button",{className:"btn button-product bg-red-custom",onClick:function(){return e.removeKonvaProductImage(t.id),e.removeCardById(t)}},"Remove -",L($(t.variants).price)):r.a.createElement("button",{className:"btn button-product bg-blue-custom",onClick:function(){return e.addProductImage(t)}},"Equip +",L($(t.variants).price)))))})),r.a.createElement("button",{style:{right:this.state.productsSwiper.next.right},className:"swiper-button-next"})))):null}},{key:"render",value:function(){var e=this,t=this.state,a=t.productKonva,n=a.stage,s=a.images,i=a.show,c=t.sideBarCarts;return r.a.createElement("div",{className:"container-fluid product-show-page"},r.a.createElement("div",{className:"row h-100 flex-lg-column-reverse flex-md-row-reverse flex-column-reverse"},r.a.createElement("div",{className:"col-xl-12 col-md-5 col-12 p-0 plug-and-plug-items-wrapper"},r.a.createElement("div",{className:"container-fluid"},this.renderPlugs(),this.renderSelectedPlugItems())),r.a.createElement("div",{id:"stage",className:"col-xl-12 col-md-7 col-12 d-flex justify-content-center"},i?r.a.createElement(X.Stage,{width:n.width,height:n.height,scale:n.scale,offset:n.offset,ref:this.konvaStage,onMouseLeave:this.removeProductPlusPoints},r.a.createElement(X.Layer,null,s.map((function(t){return r.a.createElement(H,{key:t.id,src:t.src,x:t.x,y:t.y,opacity:t.opacity,clickCallback:function(){return e.handleProductPlugClick(t)},onMouseEnterCallback:function(){return e.handleMouseEnter(t)},onMouseLeaveCallback:function(){return e.handleMouseLeave(t)}})})))):null)),r.a.createElement(le,{carts:c,handleCartQuantityChangeCallback:function(t,a){return e.handleCartQuantityChange(t,a)},removeCardByIdCallback:function(t){return e.removeCardById(t)},removeKonvaProductImageCallback:function(t){return e.removeKonvaProductImage(t)},checkoutCallback:this.shopifyRedirect,ref:this.rightSidebarRef}))}},{key:"initialState",get:function(){var e=Q();return{baseProduct:{},selectedProduct:null,plugs:[],plugSliderCurrentIndex:0,productSliderCurrentIndex:0,selectedPlug:{products:[],interfaces:[]},productKonva:{stage:{scale:e.scale,offset:e.offset,width:e.width,height:e.height},images:[]},sideBarCarts:[],productsSwiper:{next:{right:0},prev:{left:0}}}}}]),a}(n.Component),Pe=Object(R.b)(null,{addInterfaces:function(e){return{type:"ADD_INTERFACES",interfaces:e}},addSelectProducts:function(e){return{type:"ADD_SELECT_PRODUCT",selectedProduct:e}},addBaskets:function(e){return{type:"ADD_BASKETS",baskets:e}},addRef:function(e,t){return{type:"ADD_REF",name:e,ref:t}}})(ke),Ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(o.a)(a,[{key:"render",value:function(){return"index"===this.props.pageType?r.a.createElement(G,this.props):"show"===this.props.pageType?r.a.createElement(Pe,this.props):void 0}}]),a}(n.Component),xe=a(79),Ne=a(35),Se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={categories:n.props.categories?n.props.categories:{},category:n.props.categories.length?n.props.categories[0]:{products:[]}},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.categories&&this.setState((function(t){t.categories=e.categories,t.category=e.categories[0]}))}},{key:"handleClick",value:function(e){this.setState({category:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid my-2 category"},r.a.createElement("div",{className:"row justify-content-center align-items-center"},r.a.createElement("div",{className:"w-25 h-100"},r.a.createElement(xe.a,{options:this.state.categories,value:this.state.category,onChange:function(t){return e.handleClick(t)},getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e.name)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},this.state.category.products.length?r.a.createElement(Ce,{pageType:"index",products:this.state.category.products,categoryId:this.state.category.id}):null)))}}]),a}(n.Component),je=Object(Ne.a)((function(e){return{categories:e.categories.list?e.categories.list:{}}}))(Se),Oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(je,null)}}]),a}(n.Component),Ie=(a(144),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(z,null),r.a.createElement(m.a,null,r.a.createElement(p.a,{exact:!0,path:"(/|/category)",render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(p.a,{exact:!0,path:"/category/:id",render:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(p.a,{exact:!0,path:"/category/:categoryId/product/:productId",render:function(e){return r.a.createElement(Ce,Object.assign({pageType:"show"},e))}}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(27),Re={},Be={},Ke={list:[]},De=a(49),Le={list:{}},Te={interfaces:{}},Me=Object(_e.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECT_PRODUCT":return{selectedProduct:t.selectedProduct};default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORIES":return{list:t.categories};default:return e}},baskets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BASKETS":return{list:t.baskets};default:return e}},components:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_REF":return{list:Object(De.a)(Object(De.a)({},e.list),{[t.name]:t.ref})};default:return e}},interfaces:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INTERFACES":return t.interfaces;default:return e}}}),Ae=Object(_e.c)(Me);i.a.render(r.a.createElement(R.a,{store:Ae},r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},41:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/logo.f3d9780f.svg"},64:function(e,t,a){e.exports=a.p+"static/media/menu.9522e939.svg"},65:function(e,t,a){e.exports=a.p+"static/media/add.ff4f58d5.svg"},66:function(e,t,a){e.exports=a.p+"static/media/sort.826593c8.svg"},67:function(e,t,a){e.exports=a.p+"static/media/add_alternative.34756163.svg"},68:function(e,t,a){e.exports=a.p+"static/media/custom.f49836f2.svg"},69:function(e,t,a){e.exports=a.p+"static/media/message.d6a2e58d.svg"},70:function(e,t,a){e.exports=a.p+"static/media/transfer.1479fa6d.svg"},73:function(e,t,a){e.exports=a.p+"static/media/plus.b4700fbe.svg"},74:function(e,t,a){e.exports=a.p+"static/media/minus-s.95c1775a.svg"},75:function(e,t,a){e.exports=a.p+"static/media/left-arrow.d2ac9c94.svg"},77:function(e,t,a){e.exports=a.p+"static/media/dot.e7d5a092.svg"},81:function(e,t,a){e.exports=a(145)},85:function(e,t,a){e.exports=a.p+"static/media/minus.7461adbb.svg"},86:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.d036651e.chunk.js.map